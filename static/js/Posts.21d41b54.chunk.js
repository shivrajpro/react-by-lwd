(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[2],{59:function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return p})),n.d(e,"c",(function(){return f})),n.d(e,"b",(function(){return d}));var r=n(5),o=n(40),c=n(35),i=o.a.create({baseURL:"https://legacy-react-v17-default-rtdb.firebaseio.com"});i.interceptors.request.use((function(t){t.params=t.params||{},t.headers=t.headers||{};var e=c.a.getState();return console.log("store",e),t.params.auth=e.auth.auth.idToken,t.headers.auth="Bearer ".concat(e.auth.auth.idToken),t}));var s=i,u="https://legacy-react-v17-default-rtdb.firebaseio.com";var a=n(21);function l(){return function(t,e){e().auth.auth.idToken;s.get("".concat(u,"/posts.json")).then((function(e){var n=function(t){var e=[];for(var n in t){var o=Object(r.a)({id:n},t[n]);e.push(o)}return e}(e.data);t(function(t){return{type:a.e,payload:t}}(n))}))}}function p(t,e){return function(n){(function(t){return s.post("".concat(u,"/posts.json"),t)})(t).then((function(o){var c=Object(r.a)({id:o.data.name},t);n(function(t){return{type:a.b,payload:t}}(c)),e.push("/posts")}))}}function f(t,e){return function(n){console.log("editPostAction",t),function(t){return s.patch("".concat(u,"/posts/").concat(t.id,".json"),t)}(t).then((function(r){var o;n((o=t,{type:a.d,payload:o})),e.push("/posts")}))}}function d(t,e){return function(n){(function(t){return s.delete("".concat(u,"/posts/").concat(t,".json"))})(t).then((function(r){n(function(t){return{type:a.c,payload:t}}(t)),e.push("/posts")}))}}},67:function(t,e,n){"use strict";n.r(e);var r=n(2),o=n(20);var c=n(14),i=n(15);function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var f=n(1),d=n(13),b=n(59),h=n(25),j=n(16),y=n(6),v="NOT_FOUND";var m=function(t,e){return t===e};function O(t,e){var n="object"===typeof e?e:{equalityCheck:e},r=n.equalityCheck,o=void 0===r?m:r,c=n.maxSize,i=void 0===c?1:c,s=n.resultEqualityCheck,u=function(t){return function(e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t(e[o],n[o]))return!1;return!0}}(o),a=1===i?function(t){var e;return{get:function(n){return e&&t(e.key,n)?e.value:v},put:function(t,n){e={key:t,value:n}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}(u):function(t,e){var n=[];function r(t){var r=n.findIndex((function(n){return e(t,n.key)}));if(r>-1){var o=n[r];return r>0&&(n.splice(r,1),n.unshift(o)),o.value}return v}return{get:r,put:function(e,o){r(e)===v&&(n.unshift({key:e,value:o}),n.length>t&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(i,u);function l(){var e=a.get(arguments);if(e===v){if(e=t.apply(null,arguments),s){var n=a.getEntries(),r=n.find((function(t){return s(t.value,e)}));r&&(e=r.value)}a.put(arguments,e)}return e}return l.clearCache=function(){return a.clear()},l}function x(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"===typeof t}))){var n=e.map((function(t){return"function"===typeof t?"function "+(t.name||"unnamed")+"()":typeof t})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function g(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var c,i=0,s={memoizeOptions:void 0},u=r.pop();if("object"===typeof u&&(s=u,u=r.pop()),"function"!==typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var a=s,l=a.memoizeOptions,p=void 0===l?n:l,f=Array.isArray(p)?p:[p],d=x(r),b=t.apply(void 0,[function(){return i++,u.apply(null,arguments)}].concat(f)),h=t((function(){for(var t=[],e=d.length,n=0;n<e;n++)t.push(d[n].apply(null,arguments));return c=b.apply(null,t)}));return Object.assign(h,{resultFunc:u,memoizedResultFunc:b,dependencies:d,lastResult:function(){return c},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),h};return o}var w=g(O),N=function(t,e){return t.posts.posts.find((function(t){return t.id===e}))},k=function(){return w([N],(function(t){return t}))};var P=Object(d.b)((function(){var t=k();return function(e,n){return{post:t(e,n.match.params.id)}}}))((function(t){return Object(r.jsxs)("div",{className:"border border-gray-600 p-2",children:[Object(r.jsx)("p",{children:"single post works!"}),t.post&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{className:"font-bold",children:"Id : "}),t.post.id]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{className:"font-bold",children:"Title : "}),t.post.title]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{className:"font-bold",children:"Description : "}),t.post.description]})]})]})})),S=n(5),A=n(19);var C=Object(d.b)((function(){var t=k();return function(e,n){return{post:t(e,n.match.params.id)}}}))((function(t){var e=Object(f.useState)(t.post),n=Object(A.a)(e,2),o=n[0],c=n[1],i=Object(d.c)();return Object(f.useEffect)((function(){c(t.post)}),[t.post]),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"EditPost works!"}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(Object(b.c)(o,t.history))},children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"Title"}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"text",className:"border border-gray-500 px-2",value:o.title,onChange:function(t){return c(Object(S.a)(Object(S.a)({},o),{},{title:t.target.value}))}})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"Description"}),Object(r.jsx)("div",{children:Object(r.jsx)("textarea",{className:"border border-gray-500 px-2",value:o.description,onChange:function(t){return c(Object(S.a)(Object(S.a)({},o),{},{description:t.target.value}))}})})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",className:"bg-green-500 text-white p-2",children:"Update"})})]})]})})),E=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(n,t);var e=p(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"onCreatePost",value:function(){this.props.CreatePostAction()}},{key:"componentDidMount",value:function(){this.props.posts&&!this.props.posts.length&&this.props.getPostsAction()}},{key:"onDeletePost",value:function(t){window.confirm("Are you sure delete this post?")&&this.props.deletePostAction(t,this.props.history)}},{key:"render",value:function(){var t,e=this,n=[],c=function(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(o.a)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,c=function(){};return{s:c,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}(this.props.posts);try{var i=function(){var o=t.value;n.push(Object(r.jsxs)("div",{className:"my-2 mr-2 p-2 shadow-md border border-gray-600",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"text-bold",children:"Title:"})," ",o.title]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"mr-2 text-bold",children:"Description:"}),o.description]}),Object(r.jsxs)("div",{className:"underline",children:[Object(r.jsx)(j.b,{className:"mr-2",to:{pathname:"/posts/".concat(o.id)},children:"view details"}),Object(r.jsx)(j.b,{className:"mr-2",to:{pathname:"/posts/edit/".concat(o.id)},children:"edit"}),Object(r.jsx)("button",{className:"mr-2 bg-red-500 text-white px-2",onClick:function(){return e.onDeletePost(o.id)},children:"delete"})]})]},o.id))};for(c.s();!(t=c.n()).done;)i()}catch(s){c.e(s)}finally{c.f()}return Object(r.jsxs)("div",{className:"p-2 my-2",children:[Object(r.jsx)(j.b,{to:"/create-post",className:"bg-red-500 text-white p-2 my-2",children:"create post"}),Object(r.jsx)("p",{className:"text-bold text-lg my-2",children:"Posts List"}),0===this.props.posts.length&&Object(r.jsx)("div",{className:"flex flex-wrap",children:" No posts found "}),Object(r.jsxs)("div",{className:"flex flex-wrap",children:[" ",n," "]}),Object(r.jsx)("div",{children:this.props.posts.length>0&&Object(r.jsx)("div",{children:Object(r.jsxs)(y.d,{children:[Object(r.jsx)(y.b,{path:"/posts/:id",exact:!0,component:P}),Object(r.jsx)(y.b,{path:"/posts/edit/:id",component:C})]})})})]})}}]),n}(f.Component);e.default=Object(d.b)((function(t){return{posts:t.posts.posts}}),(function(t){return Object(h.b)({CreatePostAction:b.a,getPostsAction:b.d,deletePostAction:b.b},t)}))(E)}}]);
//# sourceMappingURL=Posts.21d41b54.chunk.js.map