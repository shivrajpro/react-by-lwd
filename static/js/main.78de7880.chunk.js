(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{12:function(t,e,n){"use strict";n.d(e,"g",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"e",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return p}));var c=n(40),s=n(8),i="AIzaSyC_b_yfhdwTY_JeXPkAZ-WiAtvmBtKGJDE";function r(t,e){var n={email:t,password:e,returnSecureToken:!0};return c.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat(i),n)}function o(t,e){var n={email:t,password:e,returnSecureToken:!0};return c.a.post("".concat("https://identitytoolkit.googleapis.com/v1","/accounts:signInWithPassword?key=").concat(i),n)}function a(t){switch(t.error.message){case"EMAIL_EXISTS":return"email already exists";case"INVALID_LOGIN_CREDENTIALS":return"invalid email id or password";default:return""}}function u(t){t.expiryDate=new Date((new Date).getTime()+1e3*t.expiresIn),localStorage.setItem("userDetails",JSON.stringify(t))}function d(){localStorage.removeItem("userDetails")}function l(t,e,n){setTimeout((function(){console.log("runLogoutTimer"),t(Object(s.g)()),n.push("/sign-in")}),1e3*e)}function p(t,e){var n=localStorage.getItem("userDetails");if(n){var c=JSON.parse(n),i=new Date(c.expiryDate),r=new Date;if(r>i)t(Object(s.g)(e));else t(Object(s.i)(c)),l(t,(i.getTime()-r.getTime())/1e3,e)}else t(Object(s.g)(e))}},21:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return o}));var c="[Post Actions] create post",s="[Post Actions] create post success",i="[Post Actions] get posts success",r="[Post Actions] edit post success",o="[Post Actions] delete post success"},35:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var c=n(25),s=n(39),i=n(5),r=n(18),o=n(21),a={posts:[]};var u=n(8),d={auth:{idToken:"",email:"",refreshToken:"",expiresIn:"",localId:""},successMessage:"",errorMessage:"",showLoading:!1};var l=Object(c.a)(s.a),p=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,b=Object(c.c)({posts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,e=arguments.length>1?arguments[1]:void 0;if(e.type===o.a){var n={id:Math.random(),title:"third post",description:"third description"},c=Object(r.a)(t.posts);return c.push(n),Object(i.a)(Object(i.a)({},t),{},{posts:c})}if(e.type===o.e)return Object(i.a)(Object(i.a)({},t),{},{posts:e.payload});if(e.type===o.b){var s=Object(r.a)(t.posts);return s.push(e.payload),Object(i.a)(Object(i.a)({},t),{},{posts:s})}if(e.type===o.d){var u=Object(r.a)(t.posts),d=u.findIndex((function(t){return t.id===e.payload.id}));return u[d]=e.payload,Object(i.a)(Object(i.a)({},t),{},{posts:u})}if(e.type===o.c){var l=Object(r.a)(t.posts),p=l.filter((function(t){return t.id!==e.payload}));return Object(i.a)(Object(i.a)({},t),{},{posts:p})}return t},auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;return e.type===u.d||e.type===u.b?Object(i.a)(Object(i.a)({},t),{},{auth:{idToken:"",email:"",refreshToken:"",expiresIn:"",localId:""},successMessage:"",errorMessage:e.payload,showLoading:!1}):e.type===u.a?Object(i.a)(Object(i.a)({},t),{},{auth:{idToken:"",email:"",refreshToken:"",expiresIn:"",localId:""},successMessage:"",errorMessage:"",showLoading:!1}):e.type===u.e?Object(i.a)(Object(i.a)({},t),{},{auth:e.payload,successMessage:"sign up successful",errorMessage:"",showLoading:!1}):e.type===u.c?Object(i.a)(Object(i.a)({},t),{},{auth:e.payload,successMessage:"sign in successful",errorMessage:"",showLoading:!1}):e.type===u.f?Object(i.a)(Object(i.a)({},t),{},{showLoading:e.payload}):t}}),j=Object(c.e)(b,p(l))},48:function(t,e,n){},56:function(t,e,n){},57:function(t,e,n){"use strict";n.r(e);var c=n(2),s=n(1),i=n.n(s),r=n(26),o=n.n(r),a=n(13),u=n(6),d=(n(48),n(16)),l=function(t){return""!==t.auth.auth.idToken},p=n(8);var b=Object(u.g)(Object(a.b)((function(t){return{isAuth:l(t)}}))((function(t){var e=Object(a.c)();return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"bg-red-500 text-white p-2 text-white flex items-center justify-between",children:[Object(c.jsx)("h2",{className:"font-bold text-lg",children:"React Router"}),Object(c.jsxs)("div",{className:"",children:[Object(c.jsx)(d.b,{to:"/",className:"px-2",children:"Home"}),!t.isAuth&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(d.b,{to:"/sign-up",className:"px-2",children:"SignUp"}),Object(c.jsx)(d.b,{to:"/sign-in",className:"px-2",children:"SignIn"})]}),t.isAuth&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(d.b,{to:"/posts",className:"px-2",children:"Posts"}),Object(c.jsx)("button",{className:"px-2",onClick:function(n){e(Object(p.g)(t.history)),t.history.push("/sign-in")},children:"Logout"})]})]})]})})}))),j=n(12),f=Object(s.lazy)((function(){return n.e(4).then(n.bind(null,62))})),O=Object(s.lazy)((function(){return n.e(3).then(n.bind(null,63))})),h=Object(s.lazy)((function(){return n.e(1).then(n.bind(null,64))})),g=Object(s.lazy)((function(){return n.e(2).then(n.bind(null,67))})),y=Object(s.lazy)((function(){return n.e(0).then(n.bind(null,65))}));var x=Object(u.g)(Object(a.b)((function(t){return{isAuth:l(t)}}))((function(t){var e=Object(a.c)();Object(s.useEffect)((function(){Object(j.a)(e,t.history)}));var n=Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{path:"/sign-up",component:f}),Object(c.jsx)(u.b,{path:"/sign-in",component:O}),Object(c.jsx)(u.b,{path:"/",component:h})]});return t.isAuth&&(n=Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{path:"/posts",component:g}),Object(c.jsx)(u.b,{path:"/create-post",component:y}),Object(c.jsx)(u.b,{path:"/",component:h,exact:!0}),Object(c.jsx)(u.a,{to:"/posts"})]})),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)(b,{}),Object(c.jsx)("div",{children:Object(c.jsx)(s.Suspense,{fallback:Object(c.jsx)("p",{children:"loading..."}),children:n})})]})})}))),m=(n(56),function(t){t&&t instanceof Function&&n.e(8).then(n.bind(null,66)).then((function(e){var n=e.getCLS,c=e.getFID,s=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),c(t),s(t),i(t),r(t)}))}),v=n(35);o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(a.a,{store:v.a,children:Object(c.jsx)(d.a,{children:Object(c.jsx)(x,{})})})}),document.getElementById("root")),m()},8:function(t,e,n){"use strict";n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return i})),n.d(e,"f",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return l})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return b})),n.d(e,"g",(function(){return j}));var c=n(12),s="[signup] sign up success",i="[signup] sign up failed",r="[loading] toggle loading",o="[signin] sign in success",a="[signin] sign in failed",u="[logout] logout";function d(t,e,n){return function(r){return Object(c.g)(t,e).then((function(t){var e;Object(c.e)(t.data),r((e=t.data,{type:s,payload:e})),n.push("/")})).catch((function(t){var e=Object(c.c)(t.response.data);r({type:i,payload:e})})).finally((function(){r(l(!1))}))}}function l(t){return{type:r,payload:t}}function p(t,e,n){return function(s){Object(c.f)(t,e).then((function(t){Object(c.e)(t.data),Object(c.d)(s,t.data.expiresIn,n),s(b(t.data)),n.push("/posts")})).catch((function(t){var e,n=t.response.data;s((e=n.error.message,{type:a,payload:e}))})).finally((function(){s(l(!1))}))}}function b(t){return{type:o,payload:t}}function j(t){return Object(c.b)(),{type:u}}}},[[57,6,7]]]);
//# sourceMappingURL=main.78de7880.chunk.js.map